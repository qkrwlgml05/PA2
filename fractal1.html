<html>
<body>
<form>
 <p>
 <input type="number", min="1" id="input">
 <input type="button" value="submit" onClick="checkNum()">
 </p>
 </form>
<canvas id="canvas" width="800" height="600"></canvas>
<script type="text/javascript">
var elem = document.getElementById('canvas');
var context = elem.getContext('2d');

//context.fillStyle = '#C0C0C0';
context.lineWidth = 1;
context.strokeStyle = '#0000ff';

var deg_to_rad = Math.PI / 180.0;
var depth = 0;

context.font = "20px Georgia";

    context.fillText("How to run",100,100);
    context.fillText("1. Write a depth number more than 1.", 100, 200);
    context.fillText("2. Click 'submit' button to print the fractal.",100,300);
    context.fillText("# If you want to reset, just put new depth and click the 'submit'button.",100,400);


var checkNum = function() {

      context.clearRect(0, 0, canvas.width, canvas.height);
         var depth = document.getElementById('input').value;


      context.fillStyle = '#C0C0C0';
      context.beginPath();
      drawRect(400, 300, 0, 120, depth);
      drawRect(400, 300, 90, 120, depth);
      drawRect(400, 300, 180, 120, depth);
      drawRect(400, 300, -90, 120, depth);
      context.closePath();
      context.stroke();

      context.beginPath();
      drawRect(400, 300, 0, 120, depth);
      drawRect(400, 300, 90, 120, depth);
      drawRect(400, 300, 180, 120, depth);
      drawRect(400, 300, -90, 120, depth);
      context.closePath();
      context.stroke();
};

function drawLine(x1, y1, x2, y2, brightness){
  context.moveTo(x1, y1);
  context.lineTo(x2, y2);
}

function drawRect(x1, y1, angle, lenth, depth){

  if (depth !== 0){
    var x2 = x1 + (Math.cos(angle * deg_to_rad) * lenth);
    var y2 = y1 + (Math.sin(angle * deg_to_rad) * lenth);
    drawLine(x1, y1, x2, y2, depth);
    drawRect(x2, y2, angle, lenth/2, depth - 1);
    drawRect(x2, y2, angle + 90, lenth/2, depth - 1);
    drawRect(x2, y2, angle - 90, lenth/2, depth - 1);
  }
}
</script>
</body>
</html>
